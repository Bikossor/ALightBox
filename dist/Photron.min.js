function Photron(t){"use strict";var n=Object.assign({showImageTitle:!0,showGalleryTitle:!0,roundRobin:!0,showYoutubeThumbnails:!1,labelPrevious:"Previous image",labelClose:"Close",labelNext:"Next image"},t),i=document,e=i.title,o=0,a=i.getElementsByClassName("photron-item"),l=a.length,s=0,c=!1;function r(t,n){var e=i.createElement(t);return n&&(e.id=n),e}function u(n,t){t.forEach(function(t){n.appendChild(t)})}var v=r("div","photron-overlay");v.onanimationend=function(t){"close-animation"===t.animationName&&v.classList.contains("closing")?(v.classList.remove("closing"),g.innerHTML="",c=!1):"open-animation"===t.animationName&&v.classList.contains("opening")&&(c=!0)};var g=r("div","photron-content"),h=r("nav");function m(){0<o?(o--,x()):n.roundRobin&&(o=l-1,x())}var d=r("span","photron-i-prev");function p(){c&&(c=!1,v.classList.remove("opening"),v.classList.add("closing"),i.title!==e&&(i.title=e))}d.title=n.labelPrevious,d.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M352 128l-32-32-160 160 160 160 32-32-127-128z"/></svg>',d.onclick=m;var f=r("span","photron-i-close");function w(){o<l-1?(o++,x()):n.roundRobin&&(o=0,x())}f.title=n.labelClose,f.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><path d="M38 13l-3-3-11 11-11-11-3 3 11 11-11 11 3 3 11-11 11 11 3-3-11-11z"/><path fill="none" d="M0 0h48v48H0z"/></svg>',f.onclick=p;var b=r("span","photron-i-next");b.title=n.labelNext,b.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M160 128l32-32 160 160-160 160-32-32 127-128z"/></svg>',b.onclick=w,u(h,[d,f,b]);var L=r("div");function x(){return function(t){"img"===t.localName&&(g.innerHTML="<img src='"+t.src+"'/>")}(a[o]),a[o].dataset.title&&n.showImageTitle?i.title=e+" - "+a[o].dataset.title:i.title=e,!1}function y(t){return c||(c=!0,t.target.parentNode.dataset.title,o=function(t,n){return[].slice.call(i.getElementsByClassName(n)).indexOf(i.getElementById(t))}(t.target.id,"photron-item"),v.classList.contains("closing")||v.classList.add("opening"),x()),!1}u(v,[h,g,L]),u(i.getElementsByTagName("body")[0],[v]);for(var M=0;M<l;M++)a[M].id=s++,a[M].onclick=function(t){var n;(n=t).preventDefault(),y(n)};var N=null,T=null;i.ontouchstart=function(t){N=t.touches[0].clientX,T=t.touches[0].clientY},i.ontouchmove=function(t){if(N&&T){var n=N-t.touches[0].clientX,e=T-t.touches[0].clientY;Math.abs(n)>Math.abs(e)?0<n?w():m():0<e&&p(),T=N=null}},i.onkeypress=function(t){39===t.keyCode&&w(),37===t.keyCode&&m(),27===t.keyCode&&p()}}