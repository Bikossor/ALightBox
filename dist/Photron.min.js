function Photron(e){"use strict";var t=Object.assign({showImageTitle:!0,showGalleryTitle:!0,roundRobin:!0,showYoutubeThumbnails:!1,labelPrevious:"Previous image",labelClose:"Close",labelNext:"Next image"},e),i=document,n=i.title,o=0,a=i.getElementsByClassName("photron-item"),l=a.length,s=0,r=!1;function c(e,t){var n=i.createElement(e);return t&&(n.id=t),n}function u(t,e){e.forEach(function(e){t.appendChild(e)})}var m=c("div","photron-overlay");m.onanimationend=function(e){"close-animation"===e.animationName&&m.classList.contains("closing")?(m.classList.remove("closing"),h.innerHTML="",r=!1):"open-animation"===e.animationName&&m.classList.contains("opening")&&(r=!0)};var h=c("div","photron-content"),v=c("nav");function d(){0<o?(o--,L()):t.roundRobin&&(o=l-1,L())}var g=c("span","photron-i-prev");function f(){r&&(r=!1,m.classList.remove("opening"),m.classList.add("closing"),i.title!==n&&(i.title=n))}g.title=t.labelPrevious,g.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M352 128l-32-32-160 160 160 160 32-32-127-128z"/></svg>',g.onclick=d;var w=c("span","photron-i-close");function p(){o<l-1?(o++,L()):t.roundRobin&&(o=0,L())}w.title=t.labelClose,w.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><path d="M38 13l-3-3-11 11-11-11-3 3 11 11-11 11 3 3 11-11 11 11 3-3-11-11z"/><path fill="none" d="M0 0h48v48H0z"/></svg>',w.onclick=f;var b=c("span","photron-i-next");b.title=t.labelNext,b.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M160 128l32-32 160 160-160 160-32-32 127-128z"/></svg>',b.onclick=p,u(v,[g,w,b]);var y=c("div");function L(){return function(e){var t=e.localName;if("a"===t){$(e).attr("href").match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/)[2];h.innerHTML="<iframe src='https://www.youtube.com/embed/' + videoID + '?badge=0&html5=1' width='1280' height='720' frameborder='0' allowfullscreen></iframe>"}else"img"===t&&(h.innerHTML="<img src='"+e.src+"'/>")}(a[o]),a[o].dataset.title&&t.showImageTitle?i.title=n+" - "+a[o].dataset.title:i.title=n,!1}function M(e){return r||(r=!0,e.target.parentNode.dataset.title,o=function(e,t){return[].slice.call(i.getElementsByClassName(t)).indexOf(i.getElementById(e))}(e.target.id,"photron-item"),m.classList.contains("closing")||m.classList.add("opening"),L()),!1}u(m,[v,h,y]),u(i.getElementsByTagName("body")[0],[m]);for(var T=0;T<l;T++){if("a"===a[T].localName&&t.showYoutubeThumbnails){a[T].href.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/)[2];a[T].innerHTML="<img src='https://i.ytimg.com/vi/' + videoID + '/maxresdefault.jpg'/>",h.innerHTML="<iframe src='https://www.youtube.com/embed/' + videoID + '?badge=0&html5=1' width='1280' height='720' frameborder='0' allowfullscreen></iframe>"}a[T].id=s++,a[T].onclick=function(e){var t;(t=e).preventDefault(),M(t)}}var x=null,N=null;i.ontouchstart=function(e){x=e.touches[0].clientX,N=e.touches[0].clientY},i.ontouchmove=function(e){if(x&&N){var t=x-e.touches[0].clientX,n=N-e.touches[0].clientY;Math.abs(t)>Math.abs(n)?0<t?p():d():0<n&&f(),N=x=null}},i.onkeypress=function(e){39===e.keyCode&&p(),37===e.keyCode&&d(),27===e.keyCode&&f()}}