function Photron(t){"use strict";var e=Object.assign({showImageTitle:!0,showGalleryTitle:!0,roundRobin:!0,labelPrevious:"Previous image",labelClose:"Close",labelNext:"Next image"},t),o=document,n=o.title,i=0,l=o.getElementsByClassName("photron-item"),a=l.length,s=0,r=!1;function c(t,e){var n=o.createElement(t);return e&&(n.id=e),n}function u(e,t){t.forEach(function(t){e.appendChild(t)})}var v=c("div","photron-overlay"),h=c("div","photron-content"),d=c("nav");function g(){0<i?(i--,y()):e.roundRobin&&(i=a-1,y())}var p=c("span","photron-i-prev");function m(){r&&(r=!1,v.classList.remove("open"),o.title!==n&&(o.title=n))}p.title=e.labelPrevious,p.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M352 128l-32-32-160 160 160 160 32-32-127-128z"/></svg>',p.onclick=g;var f=c("span","photron-i-close");function w(){i<a-1?(i++,y()):e.roundRobin&&(i=0,y())}f.title=e.labelClose,f.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><path d="M38 13l-3-3-11 11-11-11-3 3 11 11-11 11 3 3 11-11 11 11 3-3-11-11z"/><path fill="none" d="M0 0h48v48H0z"/></svg>',f.onclick=m;var b=c("span","photron-i-next");b.title=e.labelNext,b.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M160 128l32-32 160 160-160 160-32-32 127-128z"/></svg>',b.onclick=w,u(d,[p,f,b]);var x=c("div");function y(){return function(t){"img"===t.localName&&(h.innerHTML="<img src='"+t.src+"'/>")}(l[i]),l[i].dataset.title&&e.showImageTitle?o.title=n+" - "+l[i].dataset.title:o.title=n,!1}function M(t){return console.log(!r),r||(r=!0,t.target.parentNode.dataset.title,i=function(t,e){return[].slice.call(o.getElementsByClassName(e)).indexOf(o.getElementById(t))}(t.target.id,"photron-item"),v.classList.add("open"),y()),!1}u(v,[d,h,x]),u(o.getElementsByTagName("body")[0],[v]);for(var C=0;C<a;C++)l[C].id=s++,l[C].onclick=function(t){var e;(e=t).preventDefault(),M(e)};var k=null,N=null;o.ontouchstart=function(t){k=t.touches[0].clientX,N=t.touches[0].clientY},o.ontouchmove=function(t){if(k&&N){var e=k-t.touches[0].clientX,n=N-t.touches[0].clientY;Math.abs(e)>Math.abs(n)?0<e?w():g():0<n&&m(),N=k=null}},o.onkeypress=function(t){39===t.keyCode&&w(),37===t.keyCode&&g(),27===t.keyCode&&m()}}